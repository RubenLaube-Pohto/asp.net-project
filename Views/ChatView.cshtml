@model ChatApp.Controllers.ChatMessagesViewModel
@addTagHelper "*, Microsoft.AspNetCore.Mvc.TagHelpers"
@using ChatApp.Models

<!DOCTYPE html>
<html>
<head>
    <title>ChatApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css" async>
    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            document.getElementById("txtMessage").focus()
        })
    </script>
</head>
<body>
    <table class="w3-table w3-striped">
        @foreach (Message msg in Model.OldMessages)
        {
            <tr>
                <td name="author" class="w3-right-align" style="width: 10em;">@msg.Author:</td>
                <td name="text">@msg.Text</td>
                <td name="timestamp" class="w3-right-align">@msg.Timestamp</td>
            </tr>
        }
    </table>
    <form asp-action="SendNewMessage" method="post" class="w3-row">
        <input asp-for="NewMessage.Author" class="w3-input w3-border w3-col m2" placeholder="Name"/>
        <input id="txtMessage" asp-for="NewMessage.Text" class="w3-input w3-border w3-col m8" placeholder="Message"/>
        <input type="submit" value="Send" class="w3-btn w3-blue w3-col w3-large m2"/>
    </form>
</body>
</html>
